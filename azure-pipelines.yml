# ASP.NET Core
# Build and test ASP.NET Core projects targeting .NET Core.
# Add steps that run tests, create a NuGet package, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core
trigger:
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: NodeTool@0
  inputs:
    versionSpec: '10.x'
  displayName: 'Install Node.js'

- script: |
    npm install
    npm run-script build
  displayName: 'npm install and build'

- task: PublishBuildArtifacts@1
  inputs:
    artifactName: .src/.vuepress/dist
- task: PublishBuildArtifacts@1
# - uses: actions/checkout@v2
#   with:
#       submodules: true
# - name: Build And Deploy
#   id: builddeploy
#   uses: Azure/static-web-apps-deploy@v0.0.1-preview
#   with:
#     azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_LIVELY_FOREST_08FEB6F1E }}
#     repo_token: ${{ secrets.GITHUB_TOKEN }} # Used for Github integrations (i.e. PR comments)
#     action: "upload"
#     ###### Repository/Build Configurations - These values can be configured to match you app requirements. ######
#     # For more information regarding Static Web App workflow configurations, please visit: https://aka.ms/swaworkflowconfig
#     app_location: "/" # App source code path
#     api_location: "api" # Api source code path - optional
#     output_location: "src/.vuepress/dist" # Built app content directory - optional
#     ###### End of Repository/Build Configurations ######
